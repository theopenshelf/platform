<div tuiAppearance="floating" class="borrow-item-card">
  <!-- Flexbox container for the image and details -->
  <div class="card-content">
    <!-- Image Section -->
    <div class="image-container" routerLink="/community/items/{{ borrowRecord().item.id }}">
      <img [src]="borrowRecord().item.imageUrl" [alt]="borrowRecord().item.name" class="item-image" />
      <button appearance="outline" class="accent details-button" size="m"
        routerLink="/community/items/{{ borrowRecord().item.id }}" tuiButton type="button">
        <span class="details-button-text">See details</span>
        <tui-icon icon="@tui.arrow-right" />
      </button>
    </div>

    <!-- Item Details -->

    <div class="item-content-container">
      <div class="item-title-container">
        <div class="item-status item-status-{{ status() }}">
          <div class="item-status-text-container">
            <span class="item-status-text">{{ statusText() }}</span>
            @if (lateDuration() > 0) {
            <span class="item-status-late">{{ lateDuration() }} day(s)</span>
            }
          </div>
          <tui-icon size="l" [icon]="statusIcon()" />
        </div>
        <div class="item-title">
          <h2 tuiTitle>
            {{ borrowRecord().item.name }}
          </h2>
        </div>
        <div class="item-subtitle">
          <div class="item-categories">
            <tui-icon [icon]="borrowRecord().item.category.icon" />
            <span class="category-name">{{ borrowRecord().item.category.name }}</span>
          </div>
          @if (library()) {
          <span class="library">
            <tui-icon icon="@tui.library" />
            <span class="library-value">{{ library()?.name }}</span>
          </span>
          }
          <span class="borrow-duration">
            <tui-icon icon="@tui.clock" />
            <span class="borrow-duration-value">{{ borrowDuration() }}</span> days
          </span>

        </div>
      </div>
      <div class="timeline-container">
        <borrow-record-timeline [item]="borrowRecord().item" [borrowRecord]="borrowRecord()"></borrow-record-timeline>
        
      </div>
    </div>
  </div>
</div>